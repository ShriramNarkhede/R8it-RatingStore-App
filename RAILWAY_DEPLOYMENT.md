# ðŸš€ Railway Deployment Guide

## Prerequisites
- GitHub account with your project repository
- Railway account (free at [railway.app](https://railway.app))

## Step-by-Step Deployment

### 1. Prepare Your Repository
Make sure your project is pushed to GitHub with these files:
- `railway.json` âœ…
- `backend/Procfile` âœ…
- Updated `backend/config/database.js` âœ…

### 2. Create Railway Account
1. Go to [railway.app](https://railway.app)
2. Sign up with GitHub
3. Click "New Project"

### 3. Deploy Backend
1. **Choose "Deploy from GitHub repo"**
2. **Select your repository**
3. **Choose the backend directory** (or deploy from root)
4. **Add PostgreSQL Database:**
   - Click "New" â†’ "Database" â†’ "PostgreSQL"
   - Railway will automatically create a `DATABASE_URL`

### 4. Configure Environment Variables
In your backend service, add these variables:
```env
JWT_SECRET=your_super_secret_jwt_key_here
NODE_ENV=production
PORT=5000
```

### 5. Deploy Frontend
1. **Create another service** in the same project
2. **Choose "Deploy from GitHub repo"**
3. **Select your repository again**
4. **Choose the frontend directory**
5. **Set build command:** `npm run build`
6. **Set start command:** `npm run preview` (or serve the dist folder)

### 6. Update Frontend API Configuration
Update your frontend API base URL to point to your Railway backend URL.

## Railway Dashboard Setup

### Backend Service
- **Build Command:** `npm install`
- **Start Command:** `npm start`
- **Health Check Path:** `/api/auth` (or any endpoint)

### Database Service
- **Auto-generated:** Railway handles this
- **Connection:** Use `DATABASE_URL` environment variable

### Frontend Service
- **Build Command:** `npm install && npm run build`
- **Start Command:** `npx serve -s dist -l $PORT`

## Environment Variables Reference

| Variable | Description | Example |
|----------|-------------|---------|
| `DATABASE_URL` | Auto-generated by Railway | `postgresql://...` |
| `JWT_SECRET` | Your JWT signing key | `mysecretkey123` |
| `NODE_ENV` | Environment | `production` |
| `PORT` | Server port | `5000` |

## Troubleshooting

### Common Issues:
1. **Build fails:** Check if all dependencies are in `package.json`
2. **Database connection fails:** Verify `DATABASE_URL` is set
3. **Frontend can't reach backend:** Check CORS settings and URLs

### Useful Commands:
```bash
# View logs
railway logs

# Check status
railway status

# Open shell
railway shell
```

## Post-Deployment

1. **Test your API endpoints**
2. **Verify database connections**
3. **Check frontend functionality**
4. **Set up custom domain** (optional)
5. **Configure monitoring** (optional)

## Cost & Limits
- **Free tier:** $5 credit monthly
- **Database:** Included in free tier
- **Custom domains:** Free
- **SSL certificates:** Auto-generated

## Support
- [Railway Documentation](https://docs.railway.app)
- [Railway Discord](https://discord.gg/railway)
- [GitHub Issues](https://github.com/railwayapp/railway/issues)
